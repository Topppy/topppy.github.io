<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <title>Topppy</title>
  <link rel="stylesheet" href="static/css/base.css">
</head>

<body class="home">
  <header class="header">
    <h1>Topppy's Blog</h1>
  </header>
  <nav class="sidebar" id="tpl-latest-container">
  </nav>
  <div class="wrap">
    <div id="tpl-list-container" class="content">
    </div>
  </div>
  <a class='b2Top'></a>
  <script src="./static/lib/jquery/jquery.min.js"></script>
  <script src="./static/lib/art-template/template-web.js"></script>
  <script type="text/javascript" src="static/js/base.js"></script>
  <!--article list template-->
  <script id="tpl-list" type="text/html">
    {{each list article}}
    <a class="article" href="{{article.time}}/index.html">
      <article class="article-item">
        <header class="article-head">
          <h1>{{article.name}}</h1>
          <time>{{article.time}}</time>
        </header>
        <section>
          {{set pList = article.desc.split('\n')}}
          {{each pList}}
            <p>{{$value}}</p>
          {{/each}}
        </section>
        <footer class="article-footer">
          More...
        </footer>
      </article>
    </a>
    {{/each}}
  </script>
  <!--latest list template-->
  <script id="tpl-latest" type="text/html">
    <ul>
      <li><span>最新文章</span></li>
      {{each list article}}
        <li><a data-title='{{article.name}}' href="{{article.time}}/index.html">{{article.name}}</a></li>
      {{/each}}
    </ul>
  </script>
  <script src="./static/js/blog-list.js"></script>
  <script> 
    var articleListHtml = template('tpl-list', DATA);
    $("#tpl-list-container").html(articleListHtml);
    var latestData = {
      list: DATA.list.splice(0,5)
    }
    var latestHtml = template('tpl-latest', latestData);
    $("#tpl-latest-container").html(latestHtml);
  </script>
</body>

</html>